<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>index</title>
	<meta name="generator" content="TextMate http://macromates.com/">
	<meta name="author" content="Sergio Veiga">
	<!-- Date: 2012-08-23 -->
	<link rel="stylesheet" href="/static/css/bootstrap.min.css" type="text/css" title="no title" charset="utf-8">
	<link rel="stylesheet" type="text/css" href="/static/css/main.css" />
</head>
<body onLoad="$('#new-todolist input').focus()">
  <div class="container">
    <h1 class="title">!todoList</h1>
    <div id="console" data-bind="visible: alerts().length > 0, foreach : alerts">
      <div class="alert" data-bind="css:{
                                          'alert-info':type == 'info',
                                          'alert-error':type=='error',
                                          'alert-success':type=='success'}">
        <button type="button" class="close" data-bind="click:$root.removeAlert">×</button>
        <strong data-bind="text:message"></strong>
      </div>
    </div>

    <ul class="breadcrumb" data-bind="visible:activeList">
      <li><a href="#lists">View All</a> <span class="divider">/</span></li>
      <li><span data-bind="text:activeList"></span></li>
    </ul>

    <div id="new-todolist" class="well well-small" data-bind="visible:!activeList()">
      <form class="form-inline" data-bind="submit: createList">
          <input type="text" data-bind="value: newListName" placeholder="" />
          <button type="submit" class="btn btn-primary">Create New List</button>
      </form>
    </div>

    <div id="todolists" data-bind="visible: todoLists().length > 0">
      <ul class="todo-list" data-bind="foreach: todoLists">
          <li class="list alert">
            <a data-bind="attr:{href:link}, text:name"></a>

            <ul class="tasks" data-bind="foreach : tasks">
              <li class="task alert alert-info">
                  <a href="" data-bind="text:text, css: { done: isDone() }, click:setStatus"></a>
                  <button type="button" class="close" data-bind="click:deleteTask">×</button>
              </li>
            </ul>

            <div class="new-task" class="">
              <form class="form-inline" data-bind="submit: createTask">
                  <input type="text" data-bind="value: newTaskText" placeholder="" />
                  <button type="submit" class="btn btn-mini">Add Task</button>
              </form>
            </div>
          </li>
          <button class="delete btn btn-danger" data-bind="click:deleteList, visible:$root.activeList()">Delete List!</button>
      </ul>
    </div>
  </div>


  <script src="/static/js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/jquery.json-2.3.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/jquery.websocket-0.0.1.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/knockout-2.1.0.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/sammy-latest.min.js" type="text/javascript" charset="utf-8"></script>
  <script src="/static/js/app.js" type="text/javascript" charset="utf-8"></script>
</body>
</html>

